<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <script src="http://autobahn.s3.amazonaws.com/js/autobahn.min.js"></script>
    </head>

    <body>
    <script>
        var conn = new ab.Session(
                'ws://localhost:8080' // The host (our Ratchet WebSocket server) to connect to
                , function() {            // Once the connection has been established
                    conn.subscribe('public', function(topic, data) {
                        // This is where you would add the new article to the DOM (beyond the scope of this tutorial)
                        console.log('New article published to category "' + topic + '" : ' + data);
                    });

                    console.log( "WebSocket connection established" );
                }
                , function() {            // When the connection is closed
                    console.warn('WebSocket connection closed');
                }
                , {                       // Additional parameters, we're ignoring the WAMP sub-protocol for older browsers
                    'skipSubprotocolCheck': true
                }
        );

    </script>
    </body>
</html>